# E0509 Sim2Real 설정 파일

# =============================================================================
# 로봇 설정
# =============================================================================
robot:
  ip: "192.168.137.100"
  home_joint_deg: [0, 0, 90, 0, 90, 0]
  joint_limits_deg:
    lower: [-360, -95, -135, -360, -135, -360]
    upper: [360, 95, 135, 360, 135, 360]

# =============================================================================
# 그리퍼 설정
# =============================================================================
gripper:
  enabled: true
  serial_port: 1
  baudrate: 57600
  position_range: [0, 700]  # 0=열림, 700=닫힘

# =============================================================================
# 카메라 설정
# =============================================================================
camera:
  width: 640
  height: 480
  fps: 30

  # 색상 필터 (HSV) - 펜 캡 색상에 맞게 조정
  color_filter:
    hue_low: 100
    hue_high: 130
    sat_low: 100
    sat_high: 255
    val_low: 50
    val_high: 255

  # 깊이 필터 (미터)
  depth_range: [0.1, 1.0]

# =============================================================================
# 제어 설정
# =============================================================================
control:
  frequency_hz: 30
  max_duration_sec: 60
  success_threshold_m: 0.02  # 2cm

  # 안전 설정
  max_joint_delta_rad: 0.1  # 한 스텝당 최대 변화

# =============================================================================
# Policy 설정
# =============================================================================
policy:
  # 환경 타입: target_tracking, e0509_reach, simple_move, pen_grasp
  env_type: "target_tracking"

  # 체크포인트 경로 (상대 또는 절대 경로)
  checkpoint_path: ""

  # 디바이스
  device: "cpu"

# =============================================================================
# 펜 감지 (YOLO)
# =============================================================================
detection:
  # 세그멘테이션 모델 경로
  model_path: "/home/fhekwn549/runs/segment/train/weights/best.pt"
  confidence_threshold: 0.5
  iou_threshold: 0.45

# =============================================================================
# 캘리브레이션
# =============================================================================
calibration:
  # Hand-eye calibration 결과 파일
  file_path: "config/calibration_eye_to_hand.npz"
